(function(a){a.fn.fullslide=function(b){return this.each(function(f,d){var m,e={moveQty:1,moveDuration:1000,moveEasing:"swing",displayQty:1,slideMargin:20,minWidth:"",maxWidth:""};if(b){a.extend(e,b)}var j=(function(){var i={};return function(p,n,o){if(!o){o="1"}if(i[o]){clearTimeout(i[o])}i[o]=setTimeout(p,n)}})();var h=function(){var n,i,o;n=a(d).children("li");i=a(n).first().outerWidth();o=m*(i+e.slideMargin);a(d).css("left","-"+o+"px")};var l=function(o){var n,i;n=a(d).children("li");i=a(n).first().height();a(d).animate({height:i+"px"},100,function(){if(o&&typeof(o)==="function"){o()}})};var c=function(){var r,n,p,o,q,s,i;r=a(d).children("li");n=a(r).length;p=(100/e.displayQty)*n;a(d).css("width",p+"%");i=100/n;o=a(d).css("width");q=parseInt(o)/n;if(e.slideMargin>0){s=e.slideMargin*(e.displayQty-1);q=q-(s/e.displayQty)}if(e.minWidth){if(q<e.minWidth){if(e.displayQty>1){--e.displayQty;c();return}}else{if((Math.ceil(q*e.displayQty/(e.displayQty+1))>e.minWidth)&&(e.displayQty<m)){++e.displayQty;c();return}}}else{if(e.maxWidth){if(q>e.maxWidth){if(e.displayQty<m){++e.displayQty;c();return}}else{if(Math.floor(q*(e.displayQty)/(e.displayQty-1)<=e.maxWidth)&&(e.displayQty>1)){--e.displayQty;c();return}}}}if(e.slideMargin>0){a(r).css("marginRight",e.slideMargin+"px")}a(r).css("width",q+"px");h()};var k=function(r){var p,o,n,q;if(e.displayQty===1){e.slideMargin=0}a(d).wrap('<div class="fullslide-wrap" />');a(d).closest(".fullslide-wrap").append("<div class='fullslide-controls'><a href='#' class='fullslide-left'>left</a> <a href='#' class='fullslide-right'>right</a></div>");p=a(d).children("li");m=a(p).length;q=parseInt(a(p).css("fontSize"));if(e.displayQty>m){e.displayQty=m}if(e.moveQty>m){e.moveQty=m}if(e.moveQty>e.displayQty){e.moveQty=e.displayQty}a(p).clone().prependTo(d);a(p).clone().appendTo(d);c();n=0;var i=function(){if(n!==1){if(a(p).last().outerHeight()>q){n=1;i()}else{window.setTimeout(i,500)}}else{window.setTimeout(function(){o=a(p).first().height();a(d).css({height:o+"px"});a(d).css({opacity:1});if(r&&typeof(r)==="function"){r()}},1000)}};i()};var g=function(n,u,o,q,t){var r,p,i,s;n=(typeof n==="undefined")?"left":n;u=(typeof u==="undefined")?e.moveQty:u;o=(typeof o==="undefined")?e.moveDuration:o;q=(typeof q==="undefined")?e.moveEasing:q;if(a(d).not(":animated")){s=a(d).children("li");r=a(s).first().outerWidth();p=(r*u)+(e.slideMargin*u);if(n==="left"){i="-="+p}else{i="+="+p}a(d).animate({left:i},o,q,function(){s=a(d).children("li");if(n==="left"){a(s).slice(0,e.moveQty).appendTo(d)}else{a(s).slice(-e.moveQty).prependTo(d)}h();if(t&&typeof(t)==="function"){t()}})}};k();a(d).next(".fullslide-controls").on("click",".fullslide-left",function(i){g("right",e.moveQty,e.moveDuration,e.easing,l);l();i.preventDefault()});a(d).next(".fullslide-controls").on("click",".fullslide-right",function(i){g("left",e.moveQty,e.moveDuration,e.easing,l);l();i.preventDefault()});a(window).resize(function(){j(function(){c()},500,"reset1")})})}}(jQuery));