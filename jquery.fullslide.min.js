(function(a){a.fullslide=function(e,j){var d={displayQty:1,moveQty:1,moveDuration:1000,moveEasing:"swing",slideMargin:20,minWidth:"",maxWidth:"",onReady:function(){},onBeforeSlide:function(){},onAfterSlide:function(){}};var c=this;c.settings={};var h=a(e),e=e;c.init=function(){var n,m,l,o;c.settings=a.extend({},d,j);h.wrap('<div class="fullslide-wrap" style="opacity:0;" />');h.closest(".fullslide-wrap").append("<div class='fullslide-controls'><a href='#' class='fullslide-left'>left</a> <a href='#' class='fullslide-right'>right</a></div>");n=h.children("li");origSlideQty=a(n).length;o=parseInt(a(n).css("fontSize"));if(c.settings.displayQty>origSlideQty){c.settings.displayQty=origSlideQty}if(c.settings.moveQty>origSlideQty){c.settings.moveQty=origSlideQty}if(c.settings.moveQty>c.settings.displayQty){c.settings.moveQty=c.settings.displayQty}a(n).clone().prependTo(h);a(n).clone().appendTo(h);b();l=0;var k=function(){if(l!==1){if(a(n).last().outerHeight()>o){l=1;k()}else{window.setTimeout(k,500)}}else{window.setTimeout(function(){m=a(n).first().height();h.css({height:m+"px"});h.css({opacity:1});h.closest(".fullslide-wrap").css({opacity:1});if(c.settings.onReady&&typeof(c.settings.onReady)==="function"){c.settings.onReady()}},1000)}};k()};c.slide=function(l,r,o,q){var k,p,n,m;l=(typeof l==="undefined")?"left":l;r=(typeof r==="undefined")?c.settings.moveQty:r;o=(typeof o==="undefined")?c.settings.moveDuration:o;q=(typeof q==="undefined")?c.settings.moveEasing:q;if(!h.filter(":animated").length){if(c.settings.onBeforeSlide&&typeof(c.settings.onBeforeSlide)==="function"){c.settings.onBeforeSlide()}m=h.children("li");k=a(m).first().outerWidth();p=(k*r)+(c.settings.slideMargin*r);if(l==="left"){n="-="+p}else{n="+="+p}h.animate({left:n},o,q,function(){m=h.children("li");if(l==="left"){a(m).slice(0,c.settings.moveQty).appendTo(h)}else{a(m).slice(-c.settings.moveQty).prependTo(h)}f();if(c.settings.onAfterSlide&&typeof(c.settings.onAfterSlide)==="function"){i(c.settings.onAfterSlide)}else{i()}})}};var f=function(){var l,k,m;l=h.children("li");k=a(l).first().outerWidth();m=origSlideQty*(k+c.settings.slideMargin);h.css("left","-"+m+"px")};var i=function(m){var l,k;l=h.children("li");k=a(l).first().height();h.animate({height:k+"px"},100,function(){if(m&&typeof(m)==="function"){m()}})};var b=function(){var p,l,n,m,o,q,k;p=h.children("li");l=a(p).length;n=(100/c.settings.displayQty)*l;h.css("width",n+"%");k=100/l;m=h.css("width");o=parseInt(m)/l;if(c.settings.slideMargin>0){q=c.settings.slideMargin*(c.settings.displayQty-1);o=o-(q/c.settings.displayQty)}if(c.settings.minWidth){if(o<c.settings.minWidth){if(c.settings.displayQty>1){--c.settings.displayQty;b();return}}else{if((Math.ceil(o*c.settings.displayQty/(c.settings.displayQty+1))>c.settings.minWidth)&&(c.settings.displayQty<origSlideQty)){++c.settings.displayQty;b();return}}}else{if(c.settings.maxWidth){if(o>c.settings.maxWidth){if(c.settings.displayQty<origSlideQty){++c.settings.displayQty;b();return}}else{if(Math.floor(o*(c.settings.displayQty)/(c.settings.displayQty-1)<=c.settings.maxWidth)&&(c.settings.displayQty>1)){--c.settings.displayQty;b();return}}}}if(c.settings.slideMargin>0){a(p).css("marginRight",c.settings.slideMargin+"px")}a(p).css("width",o+"px");f()};var g=(function(){var k={};return function(n,l,m){if(!m){m="1"}if(k[m]){clearTimeout(k[m])}k[m]=setTimeout(n,l)}})();a(window).resize(function(){g(function(){b()},500,"reset1")});c.init()};a.fn.fullslide=function(b){return this.each(function(){if(undefined==a(this).data("fullslide")){var c=new a.fullslide(this,b);a(this).data("fullslide",c)}})};a("body").on("click",".fullslide-left",function(c){var d=a(this).parent(".fullslide-controls").prev("ul");var b={};b.moveQty=d.data("fullslide").settings.moveQty,b.moveDuration=d.data("fullslide").settings.moveDuration,b.easing=d.data("fullslide").settings.easing;d.data("fullslide").slide("right",b.moveQty,b.moveDuration,b.easing);c.preventDefault()});a("body").on("click",".fullslide-right",function(c){var d=a(this).parent(".fullslide-controls").prev("ul");var b={};b.moveQty=d.data("fullslide").settings.moveQty,b.moveDuration=d.data("fullslide").settings.moveDuration,b.easing=d.data("fullslide").settings.easing;d.data("fullslide").slide("left",b.moveQty,b.moveDuration,b.easing);c.preventDefault()})})(jQuery);